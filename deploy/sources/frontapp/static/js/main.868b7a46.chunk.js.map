{"version":3,"sources":["components/Header.js","components/Footer.js","components/Loader.js","components/Product.js","components/User.js","components/Category.js","components/CategoryDetail.js","components/UserDetail.js","components/Main.js","components/LoginForm.js","components/RegisterForm.js","App.js","index.js"],"names":["Header","loginLink","loginTitle","loginHandler","isAuthenticated","logout","className","to","onClick","Footer","Loader","Product","product","id","name","category","created","sum","suffix","axios","delete","then","alert","window","location","catch","error","console","log","deleteProduct","ProductList","products","loading","useEffect","document","title","map","User","user","username","first_name","UserList","users","Category","deleteCategory","CategoryList","categories","CategoryDetail","useParams","filter","item","updated","UserDetail","last_name","balance","phone_number","Main","LoginForm","props","state","password","event","this","setState","target","value","preventDefault","login","method","onSubmit","handleSubmit","htmlFor","type","placeholder","onChange","handleChange","React","Component","RegisterForm","useState","setUsername","email","setEmail","setFirstName","setLastName","setPassword","setPhoneNumber","e","post","res","err","response","data","min","getResourceURL","App","accessToken","getAccessToken","loadState","headers","getHeaders","get","result","refreshToken","refresh","access","saveTokens","localStorage","setItem","clearState","projects","tasks","getItem","exact","path","register","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.868b7a46.chunk.js","sourcesContent":["import {Link} from 'react-router-dom';\n\nfunction Header({isAuthenticated, logout}) {\n\n    let loginLink, loginTitle, loginHandler;\n    loginLink = \"/login\";\n    loginTitle = \"login\";\n    if (isAuthenticated) {\n        loginLink = \"/logout\";\n        loginTitle = \"logout\";\n        loginHandler = logout;\n    }\n    return (\n        <header className=\"d-flex justify-content-center py-3 mt-3\">\n            <ul className=\"nav nav-pills\">\n                <li className=\"nav-item\"><Link to={\"/\"} className=\"nav-link\">Index</Link></li>\n                <li className=\"nav-item\"><Link to={\"/users\"} className=\"nav-link\">Users</Link></li>\n                <li className=\"nav-item\"><Link to={\"/category\"} className=\"nav-link\">Category</Link></li>\n                <li className=\"nav-item\"><Link to={\"/products\"} className=\"nav-link\">Products</Link></li>\n                <li className=\"nav-item\"><Link to={loginLink} className=\"nav-link\"\n                                               onClick={loginHandler}>{loginTitle}</Link></li>\n                {!isAuthenticated && <li className=\"nav-item\"><Link to={\"/register\"} className=\"nav-link\"\n                >Заргистрироваться</Link></li>}\n\n            </ul>\n        </header>\n    );\n}\n\nexport default Header;\n","const Footer = () => {\r\n    return (\r\n        <footer className=\"py-3 my-4\">\r\n            <p className=\"text-center text-muted border-top pb-3 mt-3\">&copy; 2021 ScriptShop</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <h1>Идёт загрузка данных...</h1>\r\n    );\r\n}\r\nexport default Loader;","import React, {Fragment, useEffect} from \"react\";\r\nimport Loader from \"./Loader\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"http://127.0.0.1:8000\";\r\nconst getResourceURL = (suffix) => `${API_URL}/api/v1/${suffix}/`;\r\n\r\nconst deleteProduct = (id) => {\r\n    // console.log(id);\r\n    axios\r\n        .delete(getResourceURL(`products/${id}`))\r\n        .then(() => {\r\n            alert(\"Вы успешно удалили товар!\")\r\n            window.location = 'products'\r\n        })\r\n        .catch((error) => console.log(error));\r\n}\r\n\r\nconst Product = ({product}) => {\r\n    return (\r\n        <tr className=\"product-row\">\r\n            <td>\r\n                {product.id}\r\n            </td>\r\n            <td>\r\n                {product.name}\r\n            </td>\r\n            <td>\r\n                {product.category.name}\r\n            </td>\r\n            <td>\r\n                {product.created}\r\n            </td>\r\n            <td>\r\n                {product.sum} руб.\r\n            </td>\r\n            <td>\r\n                <button className=\"btn btn-primary\"\r\n                        onClick={() => deleteProduct(product.id)}>delete\r\n                </button>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst ProductList = ({products, loading}) => {\r\n    useEffect(() => {\r\n        document.title = 'Товары'\r\n    }, [])\r\n    return (\r\n        <Fragment>\r\n            <table className={\"table product-list\"}>\r\n                <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>Название</th>\r\n                    <th>категория</th>\r\n                    <th>Создано</th>\r\n                    <th>Сумма</th>\r\n                    <th>actions</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {loading &&\r\n                    <Fragment>{products.map((product) => <Product key={product.name} product={product}/>)}</Fragment>}\r\n                </tbody>\r\n            </table>\r\n            {!loading && <Loader/>}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductList;\r\n","import {Link} from \"react-router-dom\";\r\nimport {useEffect, Fragment} from \"react\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst User = ({user}) => {\r\n\r\n    return (\r\n        <tr className=\"product-row\">\r\n            <td>\r\n                <Link to={`/users/detail/${user.id}/`}>{user.id}</Link>\r\n            </td>\r\n            <td>\r\n                {user.username}\r\n            </td>\r\n            <td>\r\n                {user.first_name}\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst UserList = ({users, isAuthenticated, loading}) => {\r\n    useEffect(() => {\r\n        document.title = 'Пользователи'\r\n    }, [])\r\n    if (isAuthenticated) {\r\n        return (\r\n            <table className={\"user-list\"}>\r\n                <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>UserName</th>\r\n                    <th>First_name</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {loading && <Fragment>{users.map((user) => <User key={user.id} user={user}/>)}</Fragment>}\r\n                {!loading && <Loader/>}\r\n                </tbody>\r\n            </table>\r\n        )\r\n    } else {\r\n        return (\r\n            <h3>Авторизуйтесь!</h3>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserList;\r\n","import {NavLink as Link} from \"react-router-dom\";\r\nimport React, {useEffect, Fragment} from \"react\";\r\nimport Loader from \"./Loader\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst API_URL = \"http://127.0.0.1:8000\";\r\nconst getResourceURL = (suffix) => `${API_URL}/api/v1/${suffix}/`;\r\n\r\nconst deleteCategory = (id) => {\r\n    // console.log(id);\r\n    axios\r\n        .delete(getResourceURL(`category/${id}`))\r\n        .then(() => {\r\n            alert(\"Вы успешно удалили категорию!\")\r\n            window.location = 'category'\r\n        })\r\n        .catch((error) => console.log(error));\r\n}\r\n\r\nconst Category = ({category}) => {\r\n    return (\r\n        <tr className=\"product-row\">\r\n            <td>\r\n                <Link to={`/category/detail/${category.id}`}>{category.name}</Link>\r\n            </td>\r\n            <td>\r\n                {category.created}\r\n            </td>\r\n            <td>\r\n                <button className=\"btn btn-success\" onClick={() => deleteCategory(category.id)}>delete</button>\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst CategoryList = ({categories, loading}) => {\r\n    useEffect(() => {\r\n        document.title = 'Каталог'\r\n    }, [])\r\n    return (\r\n        <Fragment>\r\n            <table className={\"table category-list\"}>\r\n                <thead>\r\n                <tr>\r\n                    <th>Название</th>\r\n                    <th>Создано</th>\r\n                    <th>Действие</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {loading && <Fragment>{categories.map((category) => <Category key={category.name}\r\n                                                                              category={category}/>)}</Fragment>}\r\n                </tbody>\r\n            </table>\r\n            {!loading && <Loader/>}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default CategoryList;\r\n","import React from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\n\r\nconst CategoryDetail = ({categories}) => {\r\n    let {id} = useParams();\r\n    console.log(id);\r\n    let category = categories.filter((item) => item.id === +id)[0];\r\n    console.log(category);\r\n\r\n    return (\r\n        <div className={\"project-detail\"}>\r\n            <h2>Name: {category.name}</h2>\r\n            <p>Created: {category.created}, Updated: {category.updated}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default CategoryDetail;\r\n","import React from \"react\";\r\nimport {useParams} from \"react-router\";\r\n\r\nconst UserDetail = ({users}) => {\r\n    let {id} = useParams();\r\n    let user = users.filter((item) => item.id === +id)[0];\r\n    return (\r\n        <div className={\"project-detail\"}>\r\n            <h2>Username: {user.title}</h2>\r\n            <p>First name: {user.first_name}, Last name: {user.last_name}</p>\r\n            <p>balance: {user.balance}</p>\r\n            <p>Phone Number: {user.phone_number}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserDetail;\r\n","import {useEffect} from \"react\";\r\n\r\nconst Main = () => {\r\n    useEffect(() => {\r\n        document.title = 'Главная'\r\n    }, [])\r\n    return (\r\n        <h3>Главная</h3>\r\n    )\r\n}\r\nexport default Main","import React from \"react\";\r\n\r\n\r\nclass LoginForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        };\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({[event.target.name]: event.target.value})\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        // login = getToken\r\n        this.props.login(this.state.username, this.state.password)\r\n    }\r\n\r\n    render() {\r\n        document.title = 'Авторизация'\r\n        return (\r\n            <div className=\"login-form\">\r\n                <form method=\"post\" onSubmit={(event) => this.handleSubmit(event)}>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleInputUserName\" className=\"form-label\">Имя пользователя</label>\r\n                        <input type=\"text\" className=\"form-control\"\r\n                               name=\"username\" placeholder=\"Имя пользователя\"\r\n                               id=\"exampleInputUserName\"\r\n                               onChange={(event) => this.handleChange(event)}/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleInputPassword\" className=\"form-label\">Пароль</label>\r\n                        <input type=\"password\" className=\"form-control\"\r\n                               name=\"password\" placeholder=\"Пароль\"\r\n                               id=\"exampleInputPassword\"\r\n                               onChange={(event) => this.handleChange(event)}/>\r\n                    </div>\r\n                    <input type=\"submit\"\r\n                           value=\"Войти\" className=\"btn btn-success\"/>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default LoginForm","import React, {useState} from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst RegisterForm = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [first_name, setFirstName] = useState('');\r\n    const [last_name, setLastName] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [phone_number, setPhoneNumber] = useState('');\r\n\r\n\r\n    function handleChangeUsername(e) {\r\n        setUsername(e.target.value)\r\n    }\r\n\r\n    function handleChangeFirstName(e) {\r\n        setFirstName(e.target.value)\r\n    }\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    function handleChangeLastName(e) {\r\n        setLastName(e.target.value)\r\n    }\r\n\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    function handleChangePhoneNumber(e) {\r\n        setPhoneNumber(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        axios.post('http://127.0.0.1:8000/api/v1/register/', {\r\n            username: username,\r\n            password: password,\r\n            first_name: first_name,\r\n            last_name: last_name,\r\n            email: email,\r\n            phone_number: phone_number,\r\n        }).then(function (res) {\r\n            alert('Вы успешно зарегистрировались!')\r\n            window.location = \"/login\"\r\n        }).catch(function (err) {\r\n            alert(err.response.data.username[0]);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-form\">\r\n            <form method=\"post\" onSubmit={handleSubmit}>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputUserName\" className=\"form-label\">Логин</label>\r\n                    <input type=\"text\" className=\"form-control\"\r\n                           name=\"login\" placeholder=\"Логин\"\r\n                           id=\"exampleInputUserName\"\r\n                           onChange={handleChangeUsername}/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputFirstName\" className=\"form-label\">Имя</label>\r\n                    <input type=\"text\" className=\"form-control\"\r\n                           name=\"first_name\" placeholder=\"Имя\"\r\n                           id=\"exampleInputFirstName\"\r\n                           onChange={handleChangeFirstName}/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputLastName\" className=\"form-label\">Фамилия</label>\r\n                    <input type=\"text\" className=\"form-control\"\r\n                           name=\"last_name\" placeholder=\"Фамилия\"\r\n                           id=\"exampleInputLastName\"\r\n                           onChange={handleChangeLastName}/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputEmail\" className=\"form-label\">Почта</label>\r\n                    <input type=\"email\" className=\"form-control\"\r\n                           name=\"mail\" placeholder=\"Почта\"\r\n                           id=\"exampleInputEmail\"\r\n                           onChange={handleChangeEmail}/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputPassword\" className=\"form-label\">Пароль</label>\r\n                    <input type=\"password\" className=\"form-control\"\r\n                           name=\"password\" placeholder=\"password\"\r\n                           id=\"exampleInputPassword\"\r\n                           onChange={handleChangePassword}/>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputNumber\" className=\"form-label\">Номер телефона</label>\r\n                    <input type=\"number\" className=\"form-control\"\r\n                           name=\"number\" placeholder=\"+7 900 800 55 25\"\r\n                           id=\"exampleInputNumber\" min=\"10\"\r\n                           onChange={handleChangePhoneNumber}/>\r\n                </div>\r\n                <input type=\"submit\"\r\n                       value=\"Регистрация\" className=\"btn btn-success\"/>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default RegisterForm","import './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport React from 'react';\nimport {Route} from 'react-router-dom';\nimport axios from \"axios\";\n\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport ProductList from \"./components/Product\";\nimport UserList from \"./components/User\";\nimport CategoryList from \"./components/Category\";\nimport CategoryDetail from \"./components/CategoryDetail\";\nimport UserDetail from \"./components/UserDetail\";\nimport Main from \"./components/Main\";\nimport LoginForm from \"./components/LoginForm\";\nimport user from \"./components/User\";\nimport RegisterForm from \"./components/RegisterForm\";\n\nconst API_URL = \"http://127.0.0.1:8000\";\nconst getResourceURL = (suffix) => `${API_URL}/api/v1/${suffix}/`;\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            products: [],\n            categories: [],\n            users: [],\n            accessToken: this.getAccessToken(),\n            loading: false,\n        };\n    }\n\n    componentDidMount() {\n        this.loadState();\n        // console.log('headers', headers)\n    }\n\n    loadState() {\n        let headers = this.getHeaders();\n\n        // call API\n        axios\n            .get(getResourceURL('users'), {headers: headers})\n            .then((result) => {\n                this.setState({\n                    users: result.data,\n                    loading: true,\n                })\n            })\n            .catch((error) => console.log(error));\n        axios\n            .get(getResourceURL('products'), {headers: headers})\n            .then((result) => {\n                this.setState({\n                    products: result.data,\n                    loading: true,\n                })\n            })\n            .catch((error) => console.log(error));\n        axios\n            .get(getResourceURL('category'), {headers: headers})\n            .then((result) => {\n                this.setState({\n                    categories: result.data,\n                    loading: true,\n                })\n            })\n            .catch((error) => console.log(error));\n    }\n\n    login(username, password) {\n        // console.log('state', username, password);\n        axios\n            .post(getResourceURL('token'),\n                {\"username\": username, \"password\": password})\n            .then((result) => {\n                let refreshToken = result.data.refresh;\n                let accessToken = result.data.access;\n\n                this.saveTokens(refreshToken, accessToken, user)\n                this.setState({\n                    accessToken: accessToken\n                }, this.loadState)\n                window.location = '/';\n            })\n            .catch((error) => console.log(error));\n    }\n\n    logout() {\n        localStorage.setItem('refreshToken', null);\n        localStorage.setItem('accessToken', null);\n        this.clearState();\n    }\n\n    clearState() {\n        this.setState({\n            accessToken: null,\n            users: [],\n            projects: [],\n            tasks: [],\n            loading: false,\n        })\n    }\n\n    saveTokens(refreshToken, accessToken) {\n        localStorage.setItem('refreshToken', refreshToken);\n        localStorage.setItem('accessToken', accessToken);\n    }\n\n    getAccessToken() {\n        return localStorage.getItem('accessToken')\n    }\n\n    isAuthenticated() {\n        return this.state.accessToken !== 'null' && this.state.accessToken !== null;\n    }\n\n\n    getHeaders() {\n        let headers = {\n            'Content-Type': \"application/json\"\n        }\n        if (this.isAuthenticated()) {\n            headers['Authorization'] = `Bearer ${this.state.accessToken}`\n        }\n\n        return headers;\n    }\n\n    render() {\n        return (\n            <div className='container'>\n                <Header isAuthenticated={this.isAuthenticated()} logout={() => this.logout()}/>\n                <Route exact path={'/'}>\n                    <Main/>\n                </Route>\n                <Route exact path={'/category'}>\n                    <CategoryList categories={this.state.categories} loading={this.state.loading}/>\n                </Route>\n                <Route exact path={'/category/detail/:id'}>\n                    <CategoryDetail categories={this.state.categories}/>\n                </Route>\n                <Route exact path={'/users'}>\n                    <UserList users={this.state.users} isAuthenticated={this.isAuthenticated()}\n                              loading={this.state.loading}/>\n                </Route>\n                <Route exact path=\"/users/detail/:id\">\n                    <UserDetail users={this.state.users}/>\n                </Route>\n                <Route exact path=\"/products/\">\n                    <ProductList products={this.state.products} loading={this.state.loading}/>\n                </Route>\n                <Route exact path=\"/login\">\n                    <LoginForm\n                        login={(username, password) => this.login(username, password)}/>\n                </Route>\n                <Route exact path=\"/register\">\n                    <RegisterForm\n                        login={(username, password) => this.register(username, password)}/>\n                </Route>\n                <Footer/>\n            </div>\n        )\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <App/>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}